<?xml version="1.0"?>
<script>
	<!-- 引用prod-conn指令的实现类 -->
	<using xmlTag="prod-conn" module="com.alogic.xscript.rocketmq.RMQProdConn" />
	
	<!-- 引用实现consumer-conn指令的实现类 -->
	<using xmlTag="consumer-conn" module="com.alogic.xscript.rocketmq.RMQConsumerConn" />
	
	<!-- 连接生产者 -->
	<prod-conn server="127.0.0.1:9876" producerGroup="TestProducer">
		
		<!-- 发送消息 -->
		<send topic="test" tags="" key="" data="hello"></send>
		<send topic="test" tags="" key="" data="hahhaha"></send>
		<send topic="test" tags="" key="" data="hohoho"></send>
		
	</prod-conn>
	
	<!-- 连接消费者 -->
	<consumer-conn server="127.0.0.1:9876" topic="test"
		consumerGroup="TestConsumer" tags="*" type="push">
		
		<!-- 接收消息 -->
		<receive id="msg">
		<!-- 调用子指令，对消息进行处理 -->
			<get id="${msg}" value="${msg}"></get>
		</receive>
		
	</consumer-conn>
	
</script>

